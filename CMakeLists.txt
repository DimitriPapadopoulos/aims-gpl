cmake_minimum_required( VERSION 2.6 )

find_package( soma-infra REQUIRED )

SOMA_PROJECT()

SOMA_FIND_PACKAGE( aims REQUIRED )
SOMA_ADD_RUNTIME_DEPENDENCY( SOMA aims REQUIRED )

find_package( Qt3 REQUIRED )
SOMA_ADD_RUNTIME_DEPENDENCY( THIRDPARTY Qt3 REQUIRED )
find_package( Doxygen )

set( AIMS-GPL_DEFINITIONS ${AIMS_DEFINITIONS} ${QT_DEFINITIONS} )
add_definitions( ${AIMS-GPL_DEFINITIONS} )

set( AIMS-GPL_INCLUDE_DIRS "${CMAKE_BINARY_DIR}/include" ${AIMS_INCLUDE_DIRS} "${QT_INCLUDE_DIR}" )
include_directories( ${AIMS-GPL_INCLUDE_DIRS} )

set( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin )
set( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib )


add_subdirectory( src )

set( AIMS-GPL_INSTALL_DIR "${CMAKE_INSTALL_PREFIX}" )
set( AIMS-GPL_BINARY_DIR "${CMAKE_BINARY_DIR}" )
SOMA_CREATE_CMAKE_CONFIG_FILES()
